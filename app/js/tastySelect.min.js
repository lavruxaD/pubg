(function(e,t){"use strict";function n(e,t){function n(e){for(var t,n,r=e.querySelector(y.selector),l=e.querySelector("."+g.options),o=l.querySelectorAll("."+g.item),i=e.querySelector("."+g.title),a=r.options,u=[],d=y.defaultText,p=0,h=o.length;p<h;p++)n=a[p],t=o[p],n.selected?(c(t,g.selected),u.push(n.text)):s(t,g.selected);u.length&&(d=y.mask.replace("$",u.length).replace("%",u.join(y.maskJoin))),i.innerHTML=d}function a(e){var t,r=e.querySelector(y.selector),l=e.querySelector("."+g.title),o=e.querySelector("."+g.options),i=e.querySelector("."+g.list).querySelectorAll("."+g.item),c=e.querySelector("."+g.search);r.setAttribute(b.selectReady,""),l.addEventListener("click",function(t){r.disabled||m(e)},!1),c&&c.addEventListener("input",function(e){t=h(r.options,e.target.value),f(i,t)}),r.addEventListener("change",function(t){n(e)},!1),o.addEventListener("click",function(e){var t,n=e.target.closest("."+g.item),r=e.target.closest("."+g.outer);if(n){if(t=r.querySelector(y.selector),y.ctrlKey&&t.multiple&&e.ctrlKey||t.multiple)return void u(n,!0);u(n),m(n.closest("."+g.outer))}},!1)}function u(e,t){var n=e.getAttribute(b.index),r=e.closest("."+g.outer),l=r.querySelector(y.selector),o=l.options,i=o[n];if(!t)for(var c=0,s=o.length;c<s;c++)o[c].selected=!1;if(i.selected=!i.selected,"createEvent"in document){var a=document.createEvent("HTMLEvents");a.initEvent("change",!1,!0),l.dispatchEvent(a)}else l.fireEvent("onchange")}function h(e,t){var n=[];t=t.trim().toLowerCase();for(var r=0,l=e.length;r<l;r++)e[r].innerText.trim().toLowerCase().indexOf(t)!==-1?n.push(1):n.push(0);return n}function f(e,t){for(var n=0,r=e.length;n<r;n++)e[n].style.display=t[n]?"":"none"}function m(e){e.classList.toggle(g.open)}function v(e){function t(){for(var e,t=null,n=null,r=a.cloneNode(!0),i=0,c=f.length;i<c;i++){var d=u.cloneNode(!0),p=f[i];n=p.parentNode.getAttribute("label"),t!=n&&(r&&l.appendChild(r),null==n?r=a.cloneNode(!0):(r=s.cloneNode(!0),e=o.cloneNode(!0),e.innerHTML=n,r.appendChild(e))),t=n,d.setAttribute(b.value,p.value),d.setAttribute(b.index,p.index),d.innerHTML=p.text,r.appendChild(d)}l.appendChild(r)}var n=i("div",g.outer),r=i("div",g.title),l=i("div",g.options),o=i("li",g.label),s=i("ul",g.optgroup),a=i("ul",g.list),u=i("li",g.item),d=i("div",g.searchOuter),h=i("input",g.search),f=e.options;return p&&c(n,g.mobile),e.multiple&&c(n,g.multiple),e.disabled&&c(n,g.disabled),y.search&&(d.appendChild(h),l.appendChild(d)),n.appendChild(r),n.appendChild(l),t(l),n}if(null===e.getAttribute("data-tastyselect")){var y,g,b;y=l({},d,t),e.getAttribute("placeholder")&&(y.defaultText=e.getAttribute("placeholder")),g=y.classes,b=y.attributes;var S=v(e);y.mobileFix&&r(e),o(e,S),a(S),n(S)}}function r(e){var t=i("optgroup");t.disabled=!0,t.hidden=!0,e.insertBefore(t,e.firstChild)}function l(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}function o(e,t){var n=e.cloneNode(!0),r=e.parentNode;t.appendChild(n),r.insertBefore(t,e),r.removeChild(e)}function i(e,t){var n=document.createElement(e);return t&&c(n,t),n}function c(e,t){e.classList.add(t)}function s(e,t){e.classList.remove(t)}function a(){var e={Android:function(){return!!navigator.userAgent.match(/Android/i)&&"android"},BlackBerry:function(){return!!navigator.userAgent.match(/BlackBerry/i)&&"blackberry"},iOS:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)&&"ios"},Opera:function(){return!!navigator.userAgent.match(/Opera Mini/i)&&"operamini"},Windows:function(){return!!navigator.userAgent.match(/IEMobile/i)&&"ie"},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};return e}function u(e,t){Array.prototype.slice.call(e).forEach(t)}var d={selector:"select",mobileFix:!0,mask:"%",maskJoin:", ",ctrlKey:!1,search:!1,defaultText:"Select item...",classes:{outer:"style-select",title:"style-select-title",options:"style-select-options",label:"style-select-label",searchOuter:"style-select-search-outer",search:"style-select-search",optgroup:"style-select-optgroup",list:"style-select-list",item:"style-select-option",open:"st_open",selected:"st_selected",disabled:"st_disabled",mobile:"is_mobile",multiple:"is_multiple"},attributes:{index:"data-index",value:"data-value",selectReady:"data-tastyselect"}},p=a().any(),h=function(e){var t,r=document.querySelectorAll(e&&e.selector||d.selector);u(r,function(t){n(t,e)}),t=e&&e.classes&&e.classes.open||d.classes.open,document.body.addEventListener("click",function(e){var n=e.target.closest("."+t),r=document.querySelectorAll("."+t);u(r,function(e){n!==e&&s(e,t)})},!1)};e.tastySelect=h})(window),function(e){var t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;t?e.matches=e.matchesSelector=t:e.matches=e.matchesSelector=function e(t){var e=document.querySelectorAll(t),n=this;return Array.prototype.some.call(e,function(e){return e===n})}}(Element.prototype),function(e){e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype);